(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c2bdd61"],{"159b":function(t,e,a){var r=a("da84"),n=a("fdbc"),i=a("17c2"),s=a("9112");for(var o in n){var c=r[o],l=c&&c.prototype;if(l&&l.forEach!==i)try{s(l,"forEach",i)}catch(p){l.forEach=i}}},"17c2":function(t,e,a){"use strict";var r=a("b727").forEach,n=a("a640"),i=a("ae40"),s=n("forEach"),o=i("forEach");t.exports=s&&o?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},"25d9":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cases"},[t._m(0),a("el-row",{staticStyle:{"margin-top":"30px"},attrs:{gutter:20}},[a("el-col",{staticClass:"chart-cards",attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("Person2Person",{attrs:{csvData:t.csvData}})],1),a("el-col",{staticClass:"chart-cards",attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("InfectType",{attrs:{csvData:t.csvData}})],1),a("el-col",{staticClass:"chart-cards",attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("IsDeath",{attrs:{csvData:t.csvData}})],1),a("el-col",{staticClass:"chart-cards",attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("InfectedInterval",{attrs:{csvData:t.csvData}})],1),a("el-col",{staticClass:"chart-cards",attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("ToHospitalInterval",{attrs:{csvData:t.csvData}})],1),a("el-col",{staticClass:"chart-cards",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("AgeAndGender",{attrs:{csvData:t.csvData}})],1),a("el-col",{staticClass:"chart-cards",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("Track",{attrs:{jsonData:t.routeData}})],1)],1)],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"source"},[t._v("本页面数据来自"),a("a",{attrs:{href:"https://github.com/839-Studio/Noval-Coronavirus-763-Cases"}},[t._v("澎湃新闻美数课")]),t._v("团队整理自各地卫健委公开信息。")])}],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",[a("p",[t._v("病例年龄与性别分布")]),a("div",{attrs:{id:"cases-bed-usage-chart"}})])},s=[],o=(a("a9e3"),a("40ba")),c=a("7c93"),l=a.n(c),p={props:["csvData"],methods:{renderChart:function(){document.getElementById("cases-bed-usage-chart").innerHTML="";var t=new o["View"];t.source(this.$props.csvData,{type:"csv"}).transform({type:"rename",map:{"年龄":"age","性别":"gender"}}).transform({type:"filter",callback:function(t){return"不明"!=t.gender&&"不明"!=t.age}}).transform({type:"pick",fields:["age","gender"]}).transform({type:"map",callback:function(t){if(t.age<10)t.ageName="10岁以下";else if(t.age>70)t.ageName="70岁以上";else{var e=5*Math.floor(t.age/5),a=e+4;t.ageName=e+"-"+a+"岁"}return t.age=Number(t.age),t}}).transform({type:"aggregate",fields:["ageName","gender"],operations:["count"],as:["cnt"],groupBy:["ageName","gender"]}).transform({type:"sort-by",fields:["age"],order:"ASC"});var e=new l.a.Chart({container:"cases-bed-usage-chart",forceFit:!0,height:window.innerWidth>767?500:400,padding:window.innerWidth>767?[20,20,60,60]:[20,0,60,0]});e.source(t,{age:{type:"linear",alias:"年龄"},gender:{type:"cat",alias:"性别"},cnt:{type:"linear",alias:"病例数"}}),e.facet("mirror",{fields:["gender"],transpose:!0,padding:[0,40,0,30],eachView:function(t){t.interval().position("ageName*cnt").color("gender",(function(t){return"男"==t?"#1890ff":"#f04864"}))}}),e.render()}},mounted:function(){this.renderChart()},watch:{csvData:function(t,e){this.renderChart()}}},f=p,d=a("2877"),u=Object(d["a"])(f,i,s,!1,null,null,null),h=u.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",[a("p",[t._v("逗留、途径武汉后到出现症状时间间隔")]),a("div",{attrs:{id:"cases-infected-interval"}})])},m=[],y={props:["csvData"],methods:{renderChart:function(){var t=window.innerWidth>767;document.getElementById("cases-infected-interval").innerHTML="";var e=new o["View"];e.source(this.$props.csvData,{type:"csv"}).transform({type:"rename",map:{"症状间隔":"infectInterval"}}).transform({type:"filter",callback:function(t){return""!=t.infectInterval}}).transform({type:"map",callback:function(t){return t.infectInterval=Number(t.infectInterval),t.infectInterval<14?t.intervalName=t.infectInterval+"天":t.intervalName="14天以上",t}}).transform({type:"sort-by",fields:["infectInterval"],order:"ASC"}).transform({type:"pick",fields:["infectInterval","intervalName"]}).transform({type:"aggregate",fields:["infectInterval"],operations:["count"],as:["infectIntervalCnt"],groupBy:["intervalName"]});var a=new l.a.Chart({container:"cases-infected-interval",forceFit:!0,height:t?300:200,padding:[20,20,60,40]});a.source(e,{infectInterval:{alias:"间隔时间",type:"linear",formatter:function(t){return Number(t)+"天"}},intervalName:{type:"cat",alias:"间隔时间"},infectIntervalCnt:{type:"linear",alias:"病例数"}}),a.axis("intervalName",{title:!0}),a.axis("infectIntervalCnt",{label:{offset:20}}),a.tooltip({showTitle:!1}),a.interval().position("intervalName*infectIntervalCnt").opacity(.6),a.render()}},mounted:function(){this.renderChart()},watch:{csvData:function(t,e){this.renderChart()}}},g=y,C=Object(d["a"])(g,v,m,!1,null,null,null),w=C.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",[a("p",[t._v("是否存在人传人（疑似）")]),a("div",{attrs:{id:"cases-person-infect"}})])},b=[],I={props:["csvData"],methods:{renderChart:function(){document.getElementById("cases-person-infect").innerHTML="";var t=new o["View"];t.source(this.$props.csvData,{type:"csv"}).transform({type:"rename",map:{"人传人（疑似）":"willPerson2Person"}}).transform({type:"aggregate",fields:["willPerson2Person"],operations:["count"],as:["willPerson2PersonCnt"],groupBy:["willPerson2Person"]}).transform({type:"pick",fields:["willPerson2Person","willPerson2PersonCnt"]}).transform({type:"map",callback:function(t){return""==t.willPerson2Person&&(t.willPerson2Person="未知"),t}}).transform({type:"percent",field:"willPerson2PersonCnt",dimension:"willPerson2Person",as:"percent"});var e=new l.a.Chart({container:"cases-person-infect",forceFit:!0,height:window.innerWidth>767?300:200,padding:[0,0,40,0]});e.source(t,{willPerson2PersonCnt:{type:"linear",alias:"个案数"},percent:{type:"linear",alias:"比例",formatter:function(t){return Math.round(1e4*t)/100+"%"}},willPerson2Person:{type:"cat",alias:"是否人传人"}}),e.tooltip({showTitle:!1}),e.coord("theta",{radius:.75,innerRadius:.6}),e.intervalStack().position("percent").color("willPerson2Person",["#F5AA84","#DE826D","#FA807B"]).tooltip("willPerson2Person*percent").opacity(1),e.render()}},mounted:function(){this.renderChart()},watch:{csvData:function(t,e){this.renderChart()}}},N=I,E=Object(d["a"])(N,D,b,!1,null,null,null),T=E.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",[a("p",[t._v("病例离汉后路径")]),a("div",{ref:"chart",style:t.style,attrs:{id:"cases-track"}})])},S=[],L=(a("4160"),a("b0c0"),a("159b"),a("164e")),P=a.n(L),A={props:["jsonData"],methods:{renderChart:function(){if(this.$props.jsonData){this.$props.jsonData.nodes.forEach((function(t){t.id=t.name,"武汉市"==t.name?(t.value=NaN,t.symbolSize=100,t.itemStyle={normal:{color:"red"}}):(t.itemStyle={normal:{color:"#324D61"}},t.symbolSize=2*t.value),(t.value>10||"武汉市"==t.name)&&(t.label={show:!0})}));var t=P.a.init(this.$refs.chart);t.setOption({tooltip:{},animationDuration:1500,animationEasingUpdate:"quinticInOut",series:[{type:"graph",layout:"force",animation:!0,focusNodeAdjacency:!1,roam:!0,draggable:!0,data:this.$props.jsonData.nodes,force:{edgeLength:20,repulsion:60},lineStyle:{normal:{opacity:.7,width:1}},edges:this.$props.jsonData.edges}]})}}},mounted:function(){this.renderChart()},watch:{jsonData:function(t,e){this.renderChart()}},data:function(){return{style:{height:window.innerWidth>767?"500px":"300px"}}}},_=A,k=Object(d["a"])(_,x,S,!1,null,null,null),$=k.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",[a("p",[t._v("传播途径")]),a("div",{attrs:{id:"cases-infect-type"}})])},M=[],R={props:["csvData"],methods:{renderChart:function(){document.getElementById("cases-infect-type").innerHTML="";var t=new o["View"];t.source(this.$props.csvData,{type:"csv"}).transform({type:"rename",map:{"类型（人传人）":"infectType"}}).transform({type:"aggregate",fields:["infectType"],operations:["count"],as:["infectTypeCnt"],groupBy:["infectType"]}).transform({type:"pick",fields:["infectType","infectTypeCnt"]}).transform({type:"map",callback:function(t){return""==t.infectType&&(t.infectType="未知"),t}}).transform({type:"percent",field:"infectTypeCnt",dimension:"infectType",as:"percent"});var e=new l.a.Chart({container:"cases-infect-type",forceFit:!0,height:window.innerWidth>767?300:200,padding:[0,0,40,0]});e.source(t,{infectTypeCnt:{type:"linear",alias:"个案数"},percent:{type:"linear",alias:"比例",formatter:function(t){return Math.round(1e4*t)/100+"%"}},infectType:{type:"cat",alias:"人传人类型"}}),e.tooltip({showTitle:!1}),e.coord("theta",{radius:.75,innerRadius:.6}),e.intervalStack().position("percent").color("infectType",["#6B9DF8","#5DAAD9","#73E1F0","#5DD9C5","#6BF8BA"]).tooltip("infectType*percent").opacity(1),e.render()}},mounted:function(){this.renderChart()},watch:{csvData:function(t,e){this.renderChart()}}},F=R,O=Object(d["a"])(F,H,M,!1,null,null,null),j=O.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",[a("p",[t._v("是否死亡")]),a("div",{attrs:{id:"cases-death"}})])},B=[],G={props:["csvData"],methods:{renderChart:function(){document.getElementById("cases-death").innerHTML="";var t=new o["View"];t.source(this.$props.csvData,{type:"csv"}).transform({type:"rename",map:{"是否死亡":"isDeath"}}).transform({type:"aggregate",fields:["isDeath"],operations:["count"],as:["isDeathCnt"],groupBy:["isDeath"]}).transform({type:"pick",fields:["isDeath","isDeathCnt"]}).transform({type:"map",callback:function(t){return""==t.isDeath&&(t.isDeath="未知"),t}}).transform({type:"percent",field:"isDeathCnt",dimension:"isDeath",as:"percent"});var e=new l.a.Chart({container:"cases-death",forceFit:!0,height:window.innerWidth>767?300:200,padding:[0,0,40,0]});e.source(t,{isDeathCnt:{type:"linear",alias:"个案数"},percent:{type:"linear",alias:"比例",formatter:function(t){return Math.round(1e4*t)/100+"%"}},isDeath:{type:"cat",alias:"是否死亡"}}),e.tooltip({showTitle:!1}),e.coord("theta",{radius:.75,innerRadius:.6}),e.intervalStack().position("percent").color("isDeath",["#8C9EAC","#918383","#E3E3CD"]).tooltip("isDeath*percent").opacity(1),e.render()}},mounted:function(){this.renderChart()},watch:{csvData:function(t,e){this.renderChart()}}},W=G,U=Object(d["a"])(W,V,B,!1,null,null,null),q=U.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",[a("p",[t._v("出现症状到首次入院/就诊时间间隔")]),a("div",{attrs:{id:"cases-to-hospital"}})])},J=[],X={props:["csvData"],methods:{renderChart:function(){var t=window.innerWidth>767;document.getElementById("cases-to-hospital").innerHTML="";var e=new o["View"];e.source(this.$props.csvData,{type:"csv"}).transform({type:"rename",map:{"入院间隔":"toHospitalInterval"}}).transform({type:"filter",callback:function(t){return""!=t.toHospitalInterval}}).transform({type:"map",callback:function(t){return t.toHospitalInterval=Number(t.toHospitalInterval),t.toHospitalInterval<2?t.intervalName="1天内":t.toHospitalInterval<=3?t.intervalName="2-3天":t.toHospitalInterval<=5?t.intervalName="4-5天":t.toHospitalInterval<=7?t.intervalName="6-7天":t.toHospitalInterval<=9?t.intervalName="8-9天":t.intervalName="10天以上",t}}).transform({type:"sort-by",fields:["toHospitalInterval"],order:"ASC"}).transform({type:"pick",fields:["toHospitalInterval","intervalName"]}).transform({type:"aggregate",fields:["toHospitalInterval"],operations:["count"],as:["toHospitalIntervalCnt"],groupBy:["intervalName"]});var a=new l.a.Chart({container:"cases-to-hospital",forceFit:!0,height:t?300:200,padding:[10,20,60,40]});a.source(e,{toHospitalInterval:{alias:"在武汉逗留时间",type:"linear",formatter:function(t){return Number(t)+"天"}},intervalName:{type:"cat",alias:"间隔时间"},toHospitalIntervalCnt:{type:"linear",alias:"病例数"}}),a.axis("intervalName",{title:!0}),a.axis("toHospitalIntervalCnt",{label:{offset:20}}),a.tooltip({showTitle:!1}),a.interval().position("intervalName*toHospitalIntervalCnt").opacity(.6),a.render()}},mounted:function(){this.renderChart()},watch:{csvData:function(t,e){this.renderChart()}}},Y=X,K=Object(d["a"])(Y,z,J,!1,null,null,null),Q=K.exports,Z=a("cebe"),tt=a.n(Z),et={components:{AgeAndGender:h,InfectedInterval:w,Person2Person:T,Track:$,InfectType:j,IsDeath:q,ToHospitalInterval:Q},methods:{checkLoading:function(){this.$data.csvReady&&this.$data.routeReady&&this.$data.loading.close()}},mounted:function(){var t=this;this.$data.loading=this.$loading({lock:!0,text:"数据加载中，稍等下哈",background:"rgba(226, 238, 247, 0.9)"}),tt.a.get("./data/cases.data.csv",{headers:{"Cache-Control":"no-cache"}}).then((function(e){t.$data.csvData=e.data,t.$data.csvReady=!0,t.checkLoading()})).catch((function(){t.$data.csvReady=!0,t.checkLoading()})),tt.a.get("./data/cases.routes.json",{headers:{"Cache-Control":"no-cache"}}).then((function(e){t.$data.routeData=e.data,t.$data.routeReady=!0,t.checkLoading()})).catch((function(){t.$data.routeReady=!0,t.checkLoading()}))},data:function(){return{csvData:"",routeData:null,csvReady:!1,routeReady:!1,loading:null}}},at=et,rt=Object(d["a"])(at,r,n,!1,null,null,null);e["default"]=rt.exports},4160:function(t,e,a){"use strict";var r=a("23e7"),n=a("17c2");r({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var r=a("1d80"),n=a("5899"),i="["+n+"]",s=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),c=function(t){return function(e){var a=String(r(e));return 1&t&&(a=a.replace(s,"")),2&t&&(a=a.replace(o,"")),a}};t.exports={start:c(1),end:c(2),trim:c(3)}},"65f0":function(t,e,a){var r=a("861d"),n=a("e8b5"),i=a("b622"),s=i("species");t.exports=function(t,e){var a;return n(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!n(a.prototype)?r(a)&&(a=a[s],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},7156:function(t,e,a){var r=a("861d"),n=a("d2bb");t.exports=function(t,e,a){var i,s;return n&&"function"==typeof(i=e.constructor)&&i!==a&&r(s=i.prototype)&&s!==a.prototype&&n(t,s),t}},a640:function(t,e,a){"use strict";var r=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&r((function(){a.call(null,e||function(){throw 1},1)}))}},a9e3:function(t,e,a){"use strict";var r=a("83ab"),n=a("da84"),i=a("94ca"),s=a("6eeb"),o=a("5135"),c=a("c6b6"),l=a("7156"),p=a("c04e"),f=a("d039"),d=a("7c73"),u=a("241c").f,h=a("06cf").f,v=a("9bf2").f,m=a("58a8").trim,y="Number",g=n[y],C=g.prototype,w=c(d(C))==y,D=function(t){var e,a,r,n,i,s,o,c,l=p(t,!1);if("string"==typeof l&&l.length>2)if(l=m(l),e=l.charCodeAt(0),43===e||45===e){if(a=l.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+l}for(i=l.slice(2),s=i.length,o=0;o<s;o++)if(c=i.charCodeAt(o),c<48||c>n)return NaN;return parseInt(i,r)}return+l};if(i(y,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var b,I=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof I&&(w?f((function(){C.valueOf.call(a)})):c(a)!=y)?l(new g(D(e)),a,I):D(e)},N=r?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;N.length>E;E++)o(g,b=N[E])&&!o(I,b)&&v(I,b,h(g,b));I.prototype=C,C.constructor=I,s(n,y,I)}},ae40:function(t,e,a){var r=a("83ab"),n=a("d039"),i=a("5135"),s=Object.defineProperty,o={},c=function(t){throw t};t.exports=function(t,e){if(i(o,t))return o[t];e||(e={});var a=[][t],l=!!i(e,"ACCESSORS")&&e.ACCESSORS,p=i(e,0)?e[0]:c,f=i(e,1)?e[1]:void 0;return o[t]=!!a&&!n((function(){if(l&&!r)return!0;var t={length:-1};l?s(t,1,{enumerable:!0,get:c}):t[1]=1,a.call(t,p,f)}))}},b727:function(t,e,a){var r=a("0366"),n=a("44ad"),i=a("7b0b"),s=a("50c4"),o=a("65f0"),c=[].push,l=function(t){var e=1==t,a=2==t,l=3==t,p=4==t,f=6==t,d=5==t||f;return function(u,h,v,m){for(var y,g,C=i(u),w=n(C),D=r(h,v,3),b=s(w.length),I=0,N=m||o,E=e?N(u,b):a?N(u,0):void 0;b>I;I++)if((d||I in w)&&(y=w[I],g=D(y,I,C),t))if(e)E[I]=g;else if(g)switch(t){case 3:return!0;case 5:return y;case 6:return I;case 2:c.call(E,y)}else if(p)return!1;return f?-1:l||p?p:E}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},e8b5:function(t,e,a){var r=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);