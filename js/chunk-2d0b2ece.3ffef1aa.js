(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b2ece"],{"25d9":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cases"},[t._m(0),a("el-row",{staticStyle:{"margin-top":"30px"},attrs:{gutter:20}},[a("el-col",{staticClass:"chart-cards",attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("Person2Person",{attrs:{csvData:t.csvData}})],1),a("el-col",{staticClass:"chart-cards",attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("InfectType",{attrs:{csvData:t.csvData}})],1),a("el-col",{staticClass:"chart-cards",attrs:{xs:24,sm:24,md:8,lg:8,xl:8}},[a("IsDeath",{attrs:{csvData:t.csvData}})],1),a("el-col",{staticClass:"chart-cards",attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("InfectedInterval",{attrs:{csvData:t.csvData}})],1),a("el-col",{staticClass:"chart-cards",attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[a("ToHospitalInterval",{attrs:{csvData:t.csvData}})],1),a("el-col",{staticClass:"chart-cards",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("AgeAndGender",{attrs:{csvData:t.csvData}})],1),a("el-col",{staticClass:"chart-cards",attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("Track",{attrs:{jsonData:t.routeData}})],1)],1)],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"source"},[t._v("本页面数据来自"),a("a",{attrs:{href:"https://github.com/839-Studio/Noval-Coronavirus-763-Cases"}},[t._v("澎湃新闻美数课")]),t._v("团队整理自各地卫健委公开信息。")])}],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",[a("p",[t._v("病例年龄与性别分布")]),a("div",{attrs:{id:"cases-bed-usage-chart"}})])},i=[],o=(a("a9e3"),a("7104")),c=a("7f1a"),l=a.n(c),p={props:["csvData"],methods:{renderChart:function(){document.getElementById("cases-bed-usage-chart").innerHTML="";var t=new o["View"];t.source(this.$props.csvData,{type:"csv"}).transform({type:"rename",map:{"年龄":"age","性别":"gender"}}).transform({type:"filter",callback:function(t){return"不明"!=t.gender&&"不明"!=t.age}}).transform({type:"pick",fields:["age","gender"]}).transform({type:"map",callback:function(t){if(t.age<10)t.ageName="10岁以下";else if(t.age>70)t.ageName="70岁以上";else{var e=5*Math.floor(t.age/5),a=e+4;t.ageName=e+"-"+a+"岁"}return t.age=Number(t.age),t}}).transform({type:"aggregate",fields:["ageName","gender"],operations:["count"],as:["cnt"],groupBy:["ageName","gender"]}).transform({type:"sort-by",fields:["age"],order:"ASC"});var e=new l.a.Chart({container:"cases-bed-usage-chart",forceFit:!0,height:window.innerWidth>767?500:400,padding:window.innerWidth>767?[20,20,60,60]:[20,0,60,0]});e.source(t,{age:{type:"linear",alias:"年龄"},gender:{type:"cat",alias:"性别"},cnt:{type:"linear",alias:"病例数"}}),e.facet("mirror",{fields:["gender"],transpose:!0,padding:[0,40,0,30],eachView:function(t){t.interval().position("ageName*cnt").color("gender",(function(t){return"男"==t?"#1890ff":"#f04864"}))}}),e.render()}},mounted:function(){this.renderChart()},watch:{csvData:function(t,e){this.renderChart()}}},d=p,f=a("2877"),u=Object(f["a"])(d,s,i,!1,null,null,null),h=u.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",[a("p",[t._v("逗留、途径武汉后到出现症状时间间隔")]),a("div",{attrs:{id:"cases-infected-interval"}})])},v=[],y={props:["csvData"],methods:{renderChart:function(){var t=window.innerWidth>767;document.getElementById("cases-infected-interval").innerHTML="";var e=new o["View"];e.source(this.$props.csvData,{type:"csv"}).transform({type:"rename",map:{"症状间隔":"infectInterval"}}).transform({type:"filter",callback:function(t){return""!=t.infectInterval}}).transform({type:"map",callback:function(t){return t.infectInterval=Number(t.infectInterval),t.infectInterval<14?t.intervalName=t.infectInterval+"天":t.intervalName="14天以上",t}}).transform({type:"sort-by",fields:["infectInterval"],order:"ASC"}).transform({type:"pick",fields:["infectInterval","intervalName"]}).transform({type:"aggregate",fields:["infectInterval"],operations:["count"],as:["infectIntervalCnt"],groupBy:["intervalName"]});var a=new l.a.Chart({container:"cases-infected-interval",forceFit:!0,height:t?300:200,padding:[20,20,60,40]});a.source(e,{infectInterval:{alias:"间隔时间",type:"linear",formatter:function(t){return Number(t)+"天"}},intervalName:{type:"cat",alias:"间隔时间"},infectIntervalCnt:{type:"linear",alias:"病例数"}}),a.axis("intervalName",{title:!0}),a.axis("infectIntervalCnt",{label:{offset:20}}),a.tooltip({showTitle:!1}),a.interval().position("intervalName*infectIntervalCnt").opacity(.6),a.render()}},mounted:function(){this.renderChart()},watch:{csvData:function(t,e){this.renderChart()}}},g=y,w=Object(f["a"])(g,m,v,!1,null,null,null),C=w.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",[a("p",[t._v("是否存在人传人（疑似）")]),a("div",{attrs:{id:"cases-person-infect"}})])},I=[],b={props:["csvData"],methods:{renderChart:function(){document.getElementById("cases-person-infect").innerHTML="";var t=new o["View"];t.source(this.$props.csvData,{type:"csv"}).transform({type:"rename",map:{"人传人（疑似）":"willPerson2Person"}}).transform({type:"aggregate",fields:["willPerson2Person"],operations:["count"],as:["willPerson2PersonCnt"],groupBy:["willPerson2Person"]}).transform({type:"pick",fields:["willPerson2Person","willPerson2PersonCnt"]}).transform({type:"map",callback:function(t){return""==t.willPerson2Person&&(t.willPerson2Person="未知"),t}}).transform({type:"percent",field:"willPerson2PersonCnt",dimension:"willPerson2Person",as:"percent"});var e=new l.a.Chart({container:"cases-person-infect",forceFit:!0,height:window.innerWidth>767?300:200,padding:[0,0,40,0]});e.source(t,{willPerson2PersonCnt:{type:"linear",alias:"个案数"},percent:{type:"linear",alias:"比例",formatter:function(t){return Math.round(1e4*t)/100+"%"}},willPerson2Person:{type:"cat",alias:"是否人传人"}}),e.tooltip({showTitle:!1}),e.coord("theta",{radius:.75,innerRadius:.6}),e.intervalStack().position("percent").color("willPerson2Person",["#F5AA84","#DE826D","#FA807B"]).tooltip("willPerson2Person*percent").opacity(1),e.render()}},mounted:function(){this.renderChart()},watch:{csvData:function(t,e){this.renderChart()}}},N=b,P=Object(f["a"])(N,D,I,!1,null,null,null),k=P.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",[a("p",[t._v("病例离汉后路径")]),a("div",{ref:"chart",style:t.style,attrs:{id:"cases-track"}})])},$=[],x=(a("4160"),a("b0c0"),a("159b"),a("164e")),_=a.n(x),H={props:["jsonData"],methods:{renderChart:function(){if(this.$props.jsonData){this.$props.jsonData.nodes.forEach((function(t){t.id=t.name,"武汉市"==t.name?(t.value=NaN,t.symbolSize=100,t.itemStyle={normal:{color:"red"}}):(t.itemStyle={normal:{color:"#324D61"}},t.symbolSize=2*t.value),(t.value>10||"武汉市"==t.name)&&(t.label={show:!0})}));var t=_.a.init(this.$refs.chart);t.setOption({tooltip:{},animationDuration:1500,animationEasingUpdate:"quinticInOut",series:[{type:"graph",layout:"force",animation:!0,focusNodeAdjacency:!1,roam:!0,draggable:!0,data:this.$props.jsonData.nodes,force:{edgeLength:20,repulsion:60},lineStyle:{normal:{opacity:.7,width:1}},edges:this.$props.jsonData.edges}]})}}},mounted:function(){this.renderChart()},watch:{jsonData:function(t,e){this.renderChart()}},data:function(){return{style:{height:window.innerWidth>767?"500px":"300px"}}}},E=H,j=Object(f["a"])(E,T,$,!1,null,null,null),B=j.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",[a("p",[t._v("传播途径")]),a("div",{attrs:{id:"cases-infect-type"}})])},S=[],L={props:["csvData"],methods:{renderChart:function(){document.getElementById("cases-infect-type").innerHTML="";var t=new o["View"];t.source(this.$props.csvData,{type:"csv"}).transform({type:"rename",map:{"类型（人传人）":"infectType"}}).transform({type:"aggregate",fields:["infectType"],operations:["count"],as:["infectTypeCnt"],groupBy:["infectType"]}).transform({type:"pick",fields:["infectType","infectTypeCnt"]}).transform({type:"map",callback:function(t){return""==t.infectType&&(t.infectType="未知"),t}}).transform({type:"percent",field:"infectTypeCnt",dimension:"infectType",as:"percent"});var e=new l.a.Chart({container:"cases-infect-type",forceFit:!0,height:window.innerWidth>767?300:200,padding:[0,0,40,0]});e.source(t,{infectTypeCnt:{type:"linear",alias:"个案数"},percent:{type:"linear",alias:"比例",formatter:function(t){return Math.round(1e4*t)/100+"%"}},infectType:{type:"cat",alias:"人传人类型"}}),e.tooltip({showTitle:!1}),e.coord("theta",{radius:.75,innerRadius:.6}),e.intervalStack().position("percent").color("infectType",["#6B9DF8","#5DAAD9","#73E1F0","#5DD9C5","#6BF8BA"]).tooltip("infectType*percent").opacity(1),e.render()}},mounted:function(){this.renderChart()},watch:{csvData:function(t,e){this.renderChart()}}},F=L,R=Object(f["a"])(F,A,S,!1,null,null,null),M=R.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",[a("p",[t._v("是否死亡")]),a("div",{attrs:{id:"cases-death"}})])},W=[],V={props:["csvData"],methods:{renderChart:function(){document.getElementById("cases-death").innerHTML="";var t=new o["View"];t.source(this.$props.csvData,{type:"csv"}).transform({type:"rename",map:{"是否死亡":"isDeath"}}).transform({type:"aggregate",fields:["isDeath"],operations:["count"],as:["isDeathCnt"],groupBy:["isDeath"]}).transform({type:"pick",fields:["isDeath","isDeathCnt"]}).transform({type:"map",callback:function(t){return""==t.isDeath&&(t.isDeath="未知"),t}}).transform({type:"percent",field:"isDeathCnt",dimension:"isDeath",as:"percent"});var e=new l.a.Chart({container:"cases-death",forceFit:!0,height:window.innerWidth>767?300:200,padding:[0,0,40,0]});e.source(t,{isDeathCnt:{type:"linear",alias:"个案数"},percent:{type:"linear",alias:"比例",formatter:function(t){return Math.round(1e4*t)/100+"%"}},isDeath:{type:"cat",alias:"是否死亡"}}),e.tooltip({showTitle:!1}),e.coord("theta",{radius:.75,innerRadius:.6}),e.intervalStack().position("percent").color("isDeath",["#8C9EAC","#918383","#E3E3CD"]).tooltip("isDeath*percent").opacity(1),e.render()}},mounted:function(){this.renderChart()},watch:{csvData:function(t,e){this.renderChart()}}},z=V,G=Object(f["a"])(z,O,W,!1,null,null,null),J=G.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",[a("p",[t._v("出现症状到首次入院/就诊时间间隔")]),a("div",{attrs:{id:"cases-to-hospital"}})])},U=[],K={props:["csvData"],methods:{renderChart:function(){var t=window.innerWidth>767;document.getElementById("cases-to-hospital").innerHTML="";var e=new o["View"];e.source(this.$props.csvData,{type:"csv"}).transform({type:"rename",map:{"入院间隔":"toHospitalInterval"}}).transform({type:"filter",callback:function(t){return""!=t.toHospitalInterval}}).transform({type:"map",callback:function(t){return t.toHospitalInterval=Number(t.toHospitalInterval),t.toHospitalInterval<2?t.intervalName="1天内":t.toHospitalInterval<=3?t.intervalName="2-3天":t.toHospitalInterval<=5?t.intervalName="4-5天":t.toHospitalInterval<=7?t.intervalName="6-7天":t.toHospitalInterval<=9?t.intervalName="8-9天":t.intervalName="10天以上",t}}).transform({type:"sort-by",fields:["toHospitalInterval"],order:"ASC"}).transform({type:"pick",fields:["toHospitalInterval","intervalName"]}).transform({type:"aggregate",fields:["toHospitalInterval"],operations:["count"],as:["toHospitalIntervalCnt"],groupBy:["intervalName"]});var a=new l.a.Chart({container:"cases-to-hospital",forceFit:!0,height:t?300:200,padding:[10,20,60,40]});a.source(e,{toHospitalInterval:{alias:"在武汉逗留时间",type:"linear",formatter:function(t){return Number(t)+"天"}},intervalName:{type:"cat",alias:"间隔时间"},toHospitalIntervalCnt:{type:"linear",alias:"病例数"}}),a.axis("intervalName",{title:!0}),a.axis("toHospitalIntervalCnt",{label:{offset:20}}),a.tooltip({showTitle:!1}),a.interval().position("intervalName*toHospitalIntervalCnt").opacity(.6),a.render()}},mounted:function(){this.renderChart()},watch:{csvData:function(t,e){this.renderChart()}}},Q=K,X=Object(f["a"])(Q,q,U,!1,null,null,null),Y=X.exports,Z=a("cebe"),tt=a.n(Z),et={components:{AgeAndGender:h,InfectedInterval:C,Person2Person:k,Track:B,InfectType:M,IsDeath:J,ToHospitalInterval:Y},methods:{checkLoading:function(){this.$data.csvReady&&this.$data.routeReady&&this.$data.loading.close()}},mounted:function(){var t=this;this.$data.loading=this.$loading({lock:!0,text:"数据加载中，稍等下哈",background:"rgba(226, 238, 247, 0.9)"}),tt.a.get("./data/cases.data.csv",{headers:{"Cache-Control":"no-cache"}}).then((function(e){t.$data.csvData=e.data,t.$data.csvReady=!0,t.checkLoading()})).catch((function(){t.$data.csvReady=!0,t.checkLoading()})),tt.a.get("./data/cases.routes.json",{headers:{"Cache-Control":"no-cache"}}).then((function(e){t.$data.routeData=e.data,t.$data.routeReady=!0,t.checkLoading()})).catch((function(){t.$data.routeReady=!0,t.checkLoading()}))},data:function(){return{csvData:"",routeData:null,csvReady:!1,routeReady:!1,loading:null}}},at=et,nt=Object(f["a"])(at,n,r,!1,null,null,null);e["default"]=nt.exports}}]);